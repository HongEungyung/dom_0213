<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node 만들기</title>
    <style>
        li{
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="container">
        <h1>노드 추가하기</h1>
        <p>공부할 주제를 기록해 주세요</p>
        <p>공부가 끝난 것은 클릭해서 삭제할 수 있습니다.</p>
        <form>
            <input type="text" id="subject" autofocus>
            <button class="btn">추가</button>
        </form>
        <hr>
        <ul id="itemList">
            <!-- js 출력 -->

        </ul>
    </div>
    <script>
        const btn = document.querySelector(".btn")
        btn.addEventListener("click" , (e) => {
            e.preventDefault()
            // 1. li 만들기
            const newLi = document.createElement("li")
            console.log(newLi);
            // 2. input value 인식
            const subject = document.querySelector("#subject")
            const newText = document.createTextNode(subject.value)
            console.log(newText);
            // 3. li 안에 value 값 넣기
            newLi.appendChild(newText)
            console.log(newLi);
            // 4. window 에 3번 생성하기 (2번에 createTextNode 한 걸
            // 여기서 appendChild 로 연결시킨 거)
            const itemList = document.querySelector("#itemList")
            itemList.appendChild(newLi)
            // 6. 리스트 최신순으로 정렬하기
            itemList.insertBefore(newLi , itemList.firstChild)
            // 5. 한 번 쓰고 난 input 칸 비우기
            subject.value = "";

            // 노드 지우기
            const itemLi = document.querySelectorAll("#itemList li")
            console.log(itemLi);
            itemLi.forEach((item) => {
            item.addEventListener("click" , function(){
                console.log(this.parentNode);
                if(this.parentNode){
                    this.parentNode.removeChild(this)
                }
            })   
            })
        })
    </script>
</body>
</html>